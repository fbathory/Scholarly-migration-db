#| echo: true
#| warning: false
library(sf)
library(spData)
library(countrycode)
library(flowmapblue)
library(flowmapper)
library(tidyverse)
#| echo: true
#| warning: false
#| message: false
library(sf)
library(spData)
library(countrycode)
library(flowmapblue)
library(flowmapper)
library(tidyverse)
countries <- spData::world
glimpse(countries)
ggplot() +
geom_sf(data = countries) +
geom_sf(data = st_centroid(countries), color = "darkred")
library(shiny)
data_schmig <- read.csv("data_processed/openalex_2024_V1_scholarlymigration_countryflows_enriched.csv")
data_schmig |>
filter(iso3codefrom="ARG")
data_schmig |>
filter(iso3codefrom == "ARG")
data_schmig |>
filter(iso3codefrom == "ARG",
iso3codeto == "ARG")
data_schmig |>
filter(iso3codefrom == "ARG" || iso3codeto == "ARG")
data_schmig |>
filter(iso3codefrom == "ARG" | iso3codeto == "ARG")
arg <- data_schmig |>
filter(iso3codefrom == "ARG" | iso3codeto == "ARG")
View(arg)
arg_come <- arg |>
filter(iso3codeto == "ARG")
arg_to <- arg |>
filter(iso3codefrom == "ARG")
head(arg_come)
ggplot(data = arg_come) |>
geom_point(aes(x = year, y = n_migrations, fill = regionfrom, size = n_migrations))
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, fill = regionfrom, size = n_migrations))
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, size = n_migrations))
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, size = n_migrations))+
scale_color_viridis_d()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_color_viridis_d()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
theme_bw()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_discrete(solid=F, legend=F) +
theme_bw()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_discrete(solid=F) +
theme_bw()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual(solid = FALSE, values = c(0, 1, 2, 4, 5, 6, 12))+
theme_bw()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual(values = c(0, 1, 2, 4, 5, 6, 12))+
theme_bw()
ggplot(data = arg_come) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual(values = c(0, 1, 2, 4, 5, 6, 12))+
theme_bw()+
scale_y_log10()
names(arg_come)
arg_come_reg <- arg_come |>
group_by(year, regionfrom, iso3codeto) |>
summarise(n_migrantions = sum(n_migrations))
View(arg_come_reg)
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual(values = c(0, 1, 2, 4, 5, 6, 12))+
theme_bw()+
scale_y_log10()
arg_come_reg <- arg_come |>
group_by(year, regionfrom, iso3codeto) |>
summarise(n_migrations = sum(n_migrations))
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual(values = c(0, 1, 2, 4, 5, 6, 12))+
theme_bw()+
scale_y_log10()
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12), aesthetics = c("shape", "color"))+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12), aesthetics = c( "color"))+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_manual("Region of origin")+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size("No. of migrants")+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
scale_y_log10()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
arg_to_reg <- arg_come |>
group_by(year, regionto, iso3codeto) |>
summarise(n_migrations = sum(n_migrations))
ggplot(data = arg_to_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionto, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_to_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionto, shape = regionto, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
arg_to_reg <- arg_to |>
group_by(year, regionto, iso3codeto) |>
summarise(n_migrations = sum(n_migrations))
ggplot(data = arg_to_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionto, shape = regionto, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
arg_to_reg <- arg_to |>
group_by(year, regionto, iso3codeto) |>
summarise(n_migrations = sum(n_migrations))
View(arg_to_reg)
arg_to_reg <- arg_to |>
group_by(year, regionto, iso3codefrom) |>
summarise(n_migrations = sum(n_migrations))
ggplot(data = arg_to_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionto, shape = regionto, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
arg_come_reg <- arg_come |>
group_by(year, regionfrom, iso3codeto) |>
summarise(n_migrations = sum(n_migrations))
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
arg_to_reg <- arg_to |>
group_by(year, regionto, iso3codefrom) |>
summarise(n_migrations = sum(n_migrations))
ggplot(data = arg_to_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionto, shape = regionto, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
library(plotly)
ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")+
ggplotly()
ggplotly(ggplot(data = arg_come_reg) +
geom_point(aes(x = year, y = n_migrations, color = regionfrom, shape = regionfrom, size = n_migrations))+
scale_shape_manual("Region of origin", values = c(0, 1, 2, 4, 5, 6, 12))+
scale_color_discrete("Region of origin")+
scale_size_area("No. of migrants")+
theme_bw()+
labs(x = "Year",
y = "Number of migrants")
)
